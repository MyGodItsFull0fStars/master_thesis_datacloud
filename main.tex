%%% DOCUMENTCLASS 
%%%-------------------------------------------------------------------------------

\documentclass[
a4paper, % Stock and paper size.
11pt, % Type size.
% article,
% oneside, 
onecolumn, % Only one column of text on a page.
% openright, % Each chapter will start on a recto page.
% openleft, % Each chapter will start on a verso page.
% openany, % A chapter may start on either a recto or verso page.
]{memoir}
\usepackage[utf8]{inputenc}
\usepackage{import}  
\usepackage[english]{babel}
\usepackage[final]{microtype} % Less bad boxes
% \usepackage{standalone}
% \usepackage{geometry}
% \geometry{
%   a4paper,
%   total={170mm,245mm},
%   left=25mm,
%   top=17mm,
% }
\usepackage{graphicx}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{mathtools}                  % used for theorems
\usepackage{url}
\usepackage[final]{pdfpages}          % used to include PDFs 

\usepackage{xcolor}                    % Creates coloured text and background
\usepackage[colorlinks=true, urlcolor=cyan, filecolor=green, linkcolor=blue]{hyperref} 

\usepackage{graphicx, float, caption}          % used for placement of figures

\usepackage{enumitem}
\usepackage{pifont}

%%% PAGE LAYOUT 
%%%------------------------------------------------------------------------------

\setlrmarginsandblock{0.15\paperwidth}{*}{1} % Left and right margin
\setulmarginsandblock{0.2\paperwidth}{*}{1}  % Upper and lower margin
\checkandfixthelayout

%%% SECTIONAL DIVISIONS
%%%------------------------------------------------------------------------------

\maxsecnumdepth{subsubsection} % Subsections (and higher) are numbered
\setsecnumdepth{subsubsection}

\makeatletter %
\makechapterstyle{standard}{
  \setlength{\beforechapskip}{0\baselineskip}
  \setlength{\midchapskip}{1\baselineskip}
  \setlength{\afterchapskip}{8\baselineskip}
  \renewcommand{\chapterheadstart}{\vspace*{\beforechapskip}}
  \renewcommand{\chapnamefont}{\centering\normalfont\Large}
  \renewcommand{\printchaptername}{\chapnamefont \@chapapp}
  \renewcommand{\chapternamenum}{\space}
  \renewcommand{\chapnumfont}{\normalfont\Large}
  \renewcommand{\printchapternum}{\chapnumfont \thechapter}
  \renewcommand{\afterchapternum}{\par\nobreak\vskip \midchapskip}
  \renewcommand{\printchapternonum}{\vspace*{\midchapskip}\vspace*{5mm}}
  \renewcommand{\chaptitlefont}{\centering\bfseries\LARGE}
  \renewcommand{\printchaptertitle}[1]{\chaptitlefont ##1}
  \renewcommand{\afterchaptertitle}{\par\nobreak\vskip \afterchapskip}
}
\makeatother

\chapterstyle{standard}

% \setsecheadstyle{\normalfont\large\bfseries}
% \setsubsecheadstyle{\normalfont\normalsize\bfseries}
% \setparaheadstyle{\normalfont\normalsize\bfseries}
% \setparaindent{0pt}\setafterparaskip{0pt}

%%% FLOATS AND CAPTIONS
%%%------------------------------------------------------------------------------

\makeatletter                  % You do not need to write [htpb] all the time
\renewcommand\fps@figure{htbp} %
\renewcommand\fps@table{htbp}  %
\makeatother                   %

\captiondelim{\space } % A space between caption name and text
\captionnamefont{\small\bfseries} % Font of the caption name
\captiontitlefont{\small\normalfont} % Font of the caption text

\changecaptionwidth          % Change the width of the caption
\captionwidth{1\textwidth} %


%%% ABSTRACT
%%%------------------------------------------------------------------------------

\renewcommand{\abstractnamefont}{\normalfont\small\bfseries} % Font of abstract title
\setlength{\absleftindent}{0.1\textwidth} % Width of abstract
\setlength{\absrightindent}{\absleftindent}

%%% HEADER AND FOOTER 
%%%------------------------------------------------------------------------------

\makepagestyle{standard} % Make standard pagestyle

\makeatletter                 % Define standard page style
\makeevenfoot{standard}{}{}{} %
\makeoddfoot{standard}{}{}{}  %
\makeevenhead{standard}{\bfseries\thepage\normalfont\qquad\small\leftmark}{}{}
\makeoddhead{standard}{}{}{\small\rightmark\qquad\bfseries\thepage}
% \makeheadrule{standard}{\textwidth}{\normalrulethickness}
\makeatother         

\makeatletter
\makepsmarks{standard}{
\createmark{chapter}{both}{shownumber}{\@chapapp\ }{ \quad }
\createmark{section}{right}{shownumber}{}{ \quad }
\createplainmark{toc}{both}{\contentsname}
\createplainmark{lof}{both}{\listfigurename}
\createplainmark{lot}{both}{\listtablename}
\createplainmark{bib}{both}{\bibname}
\createplainmark{index}{both}{\indexname}
\createplainmark{glossary}{both}{\glossaryname}
}
\makeatother                               %

\makepagestyle{chap} % Make new chapter pagestyle

\makeatletter
\makeevenfoot{chap}{}{\small\bfseries\thepage}{} % Define new chapter pagestyle
\makeoddfoot{chap}{}{\small\bfseries\thepage}{}  %
\makeevenhead{chap}{}{}{}   %
\makeoddhead{chap}{}{}{}    %
% \makeheadrule{chap}{\textwidth}{\normalrulethickness}
\makeatother

\nouppercaseheads
\pagestyle{standard}               % Choosing pagestyle and chapter pagestyle
\aliaspagestyle{chapter}{chap} %

%%% NEW COMMANDS
%%%------------------------------------------------------------------------------

\newcommand{\p}{\partial} %Partial
% Or what ever you want

%%% TABLE OF CONTENTS
%%%------------------------------------------------------------------------------

\maxtocdepth{subsection} % Only parts, chapters and sections in the table of contents
\settocdepth{section}
% \settocdepth{subsection}

% \AtEndDocument{\addtocontents{toc}{\par}} % Add a \par to the end of the TOC

%%% INTERNAL HYPERLINKS
%%%-------------------------------------------------------------------------------

\usepackage{hyperref}   % Internal hyperlinks
\hypersetup{
  pdfborder={0 0 0},      % No borders around internal hyperlinks
  pdfauthor={Christian Bauer} % author
}
\usepackage{memhfixc}   %
  
\title{LSTM-based Prediction and Adaptation for Big Data Pipelines}
\author{Christian Bauer}
% \date{November 2022}
 
\usepackage{fancyhdr}
\usepackage{listings}

\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}

\usepackage{tikz}
\usepackage{tcolorbox}
\newenvironment{def-box}[1]{%
  \tcolorbox[
    savedelimiter=mybox,
    savelowerto=\jobname_bspsave2.tex,lowerbox=ignored,
    colback=black!5!white,colframe=black!75!black,fonttitle=\bfseries,
    title={#1}]}%
{\endtcolorbox}

\newtcolorbox[auto counter]{pabox}[2][]{%
% \newtcolorbox[auto counter,number within=section]{pabox}[2][]{%
  colback=black!5!white,
  colframe=gray!60!cyan,
  fonttitle=\bfseries,
  title=Definition~\thetcbcounter: #2,#1}

\lstdefinestyle{codestyle}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  frame=single,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue!40!black},
  backgroundcolor=\color{gray!10!white},
  captionpos=b,
  % keywordstyle=\color{blue},
  frame=single,
  morekeywords={torch, nn, Module, Tensor, self},
  % backgroundcolor=\color{gray!10!white},
  numbers=left, 
  numberstyle=\tiny\color{gray},
}

\usepackage{thmtools}
\usepackage{tocbibind}

\addto\captionsenglish{%
  % \renewcommand{\}{List of Definitions}%
  \renewcommand{\listtheoremname}{List of Definitions}%
}

\newcommand{\SAA}{\textsc{SAA }}
\newcommand{\CMATCH}{$C^3$-MATCH}


\newcommand{\CPUJUTIL}{$CPU_j^{util}$}
\newcommand{\CPUJBUSY}{$CPU_j^{busy}$}
\newcommand{\CPUJWAIT}{$CPU_j^{wait}$}

\newcommand{\MEMJUTIL}{$MEM_j^{util}$}
\newcommand{\MEMJBUSY}{$MEM_j^{busy}$}
\newcommand{\MEMJTOTAL}{$MEM_j^{total}$}
\newcommand{\MEMJUTILMATH}{MEM_j^{util}}
\newcommand{\MEMJBUSYMATH}{MEM_j^{busy}}
\newcommand{\MEMJTOTALMATH}{MEM_j^{total}}

\newcommand{\STATET}{$S_t$}
\newcommand{\STATETMATH}{S_t}
\newcommand{\TIMESTEPT}{$t$}
\newcommand{\TIMESTEPTMATH}{t}

\newcommand{\DATASENT}{$DATA_{sent}$}
\newcommand{\DATASENTMATH}{DATA_{sent}}
\newcommand{\NETBYTESSENT}{$NET_{bytesSent}$}
\newcommand{\NETBYTESSENTMATH}{NET_{bytesSent}}
\newcommand{\NETPACKETSSENT}{$NET_{packetsSent}$}
\newcommand{\NETPACKETSSENTMATH}{NET_{packetsSent}}

\newcommand{\DATARecv}{$DATA_{Recv}$}
\newcommand{\DATARecvMATH}{DATA_{recv}}
\newcommand{\NETBYTESRecv}{$NET_{bytesRecv}$}
\newcommand{\NETBYTESRecvMATH}{NET_{bytesRecv}}
\newcommand{\NETPACKETSRecv}{$NET_{packetsRecv}$}
\newcommand{\NETPACKETSRecvMATH}{NET_{packetsRecv}}

% \declaretheorem[name=Definition]{definition}
\begin{document}

  \maketitle

  \tableofcontents
  \listoffigures
  % \listoftables
  \lstlistoflistings
  % \listoftheorems[ignoreall,show=pabox]

  \section*{Abstract}   


  \import{./chapters/1_introduction}{introduction.tex}

  \import{chapters/2_background_related_work}{background.tex}
  \import{chapters/2_background_related_work}{related_work.tex}
  \import{chapters/2_background_related_work}{sota.tex}

  \import{chapters/3_model}{model.tex}

  \import{chapters/4_architecture_and_implementation}{architecture_and_implementation.tex}
  
  \import{chapters/5_evaluation_and_results}{evaluation_and_results.tex}

  \import{chapters/6_conclusions_and_future_work}{conclusions_and_future_work.tex}


  \bibliographystyle{ieeetr}
  \bibliography{reference}



\end{document}

